function validateForm(o){var e=o.indexOf("youtube.com"),a=o.indexOf("nicovideo.jp"),d=o.indexOf("soundcloud.com");return-1===e&&-1===a&&-1===d?!1:!0}function isIos(){var o=!1,e=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase();return/ip(ad|hone|od)/.test(e)?($("#dyid-isIos").val("true"),o=!0):$("#dyid-isIos").val("false"),o}$(document).on("submit","form#id-url-reg-form",function(o){var e=$("#id-url-select").val();return validateForm(e)?($(".dy-loader").html("ダウンロード準備中"),$(".dy-loader").css("display","inherit"),isIos()?$.ajax({url:"/mp3_analyze/download/",type:"POST",data:{url:e,formatid:$("#dyid-setformatid").val(),isIos:"true"},dataType:"json",success:function(o){"S_OK"==o.type?window.location.href=o.content.videoUrl:"FAIL"==o.type,$(".dy-loader").css("display","none")},error:function(){$(".dy-loader").css("display","none"),alert("URL解析エラー")}}):$.fileDownload("/mp3_analyze/download/",{successCallback:function(o){console.log(o),$(".dy-loader").css("display","none")},failCallback:function(o,e){console.log(o),console.log(e),$(".dy-loader").css("display","none"),alert("URL解析エラー")},httpMethod:"POST",data:$(this).serialize()}),o.preventDefault(),!1):(o.preventDefault(),!1)});